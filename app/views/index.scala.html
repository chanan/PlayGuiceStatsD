@(message: String)

@main("PlayGuiceStatsD") {

<h1>PlayGuiceStatsD</h1>

<h2>Overview</h2>

<p>A PlayFramework module that integrates StatsD with Guice. Although, this module does not require
that the StatsD PlayFramework filter be turned on, it is included in the module and it is 
recommanded that it is turned on.</p>

<p>The purpose of this module is to allow a developer to place counters and timers on services 
registered in Guice.</p>

<h2>Installation</h2>

<p>Add the following to your build.sbt:</p>

<p><code><pre>
resolvers += "release repository" at "http://chanan.github.io/maven-repo/releases/"
resolvers += "snapshot repository" at "http://chanan.github.io/maven-repo/snapshots/"
</pre></code></p>

<p>Add to your libraryDependencies:
<code><pre>
"playguicestatsd" %% "playguicestatsd" % "0.1.0"
</pre></code></p>

<h2>Usage</h2>

<h3>Register in Global</h3>

<p>Create a Guice Injector in Global using PlayGuiceStatsD (Note: AkkaGuice is not 
required for usage):</p>

<p>
<code><pre>
public class Global extends GlobalSettings {
	private final Injector injector = Guice.createInjector(new PlayGuiceStatsDModule(), new GuiceModule());

	@@SuppressWarnings("unchecked")
	@@Override
	public <T extends EssentialFilter> Class<T>[] filters() {
    	return new Class[] {play.modules.statsd.StatsdFilter.class};
	}

	@@Override
	public <A> A getControllerInstance(Class<A> clazz) throws Exception {
    	return injector.getInstance(clazz);
	}
}
</pre></code></p>

<h3>Annotations</h3>

<p>Annotations can be placed at the class or method level:</p>

<p><code><pre>
@@Timed
@@Counted
public class SayHelloImpl implements SayHello {
    ...
}
</pre></code></p>

<h3>Integrations with AkkaGuice</h3>

<p>AkkaGuice can be used saftly with PlayGuiceStatsD:</p>

<p>
<code><pre>
public class Global extends GlobalSettings {
	private final Injector injector = Guice.createInjector(new PlayGuiceStatsDModule(), new GuiceModule());

	@@SuppressWarnings("unchecked")
	@@Override
	public <T extends EssentialFilter> Class<T>[] filters() {
    	return new Class[] {play.modules.statsd.StatsdFilter.class};
	}

	@@Override
	public <A> A getControllerInstance(Class<A> clazz) throws Exception {
    	return injector.getInstance(clazz);
	}
	
	@@Override
	public void onStart(Application arg0) {
		AkkaGuice.InitializeInjector(injector, "services");
	}
}
</pre></code></p>

}
